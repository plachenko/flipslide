var app=function(){"use strict";function e(){}function t(e){return e()}function r(){return Object.create(null)}function n(e){e.forEach(t)}function s(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,t){e.appendChild(t)}function l(e,t,r){e.insertBefore(t,r||null)}function o(e){e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function c(){return u(" ")}function h(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function g(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function p(e){return""===e?null:+e}function y(e,t){e.value=null==t?"":t}function f(e,t,r,n){e.style.setProperty(t,r,n?"important":"")}let x;function m(e){x=e}function b(){if(!x)throw new Error("Function called outside component initialization");return x}function $(e){b().$$.on_mount.push(e)}function v(){const e=b();return(t,r)=>{const n=e.$$.callbacks[t];if(n){const s=function(e,t,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,!1,t),n}(t,r);n.slice().forEach((t=>{t.call(e,s)}))}}}function z(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach((e=>e.call(this,t)))}const w=[],k=[],S=[],M=[],L=Promise.resolve();let A=!1;function E(e){S.push(e)}let I=!1;const H=new Set;function q(){if(!I){I=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];m(t),C(t.$$)}for(m(null),w.length=0;k.length;)k.pop()();for(let e=0;e<S.length;e+=1){const t=S[e];H.has(t)||(H.add(t),t())}S.length=0}while(w.length);for(;M.length;)M.pop()();A=!1,I=!1,H.clear()}}function C(e){if(null!==e.fragment){e.update(),n(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(E)}}const _=new Set;let P;function R(e,t){e&&e.i&&(_.delete(e),e.i(t))}function T(e,t,r,n){if(e&&e.o){if(_.has(e))return;_.add(e),P.c.push((()=>{_.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}}function G(e){e&&e.c()}function B(e,r,i,a){const{fragment:l,on_mount:o,on_destroy:d,after_update:u}=e.$$;l&&l.m(r,i),a||E((()=>{const r=o.map(t).filter(s);d?d.push(...r):n(r),e.$$.on_mount=[]})),u.forEach(E)}function N(e,t){const r=e.$$;null!==r.fragment&&(n(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function j(e,t){-1===e.$$.dirty[0]&&(w.push(e),A||(A=!0,L.then(q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function O(t,s,i,a,l,d,u,c=[-1]){const h=x;m(t);const g=t.$$={fragment:null,ctx:null,props:d,update:e,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:s.context||[]),callbacks:r(),dirty:c,skip_bound:!1,root:s.target||h.$$.root};u&&u(g.root);let p=!1;if(g.ctx=i?i(t,s.props||{},((e,r,...n)=>{const s=n.length?n[0]:r;return g.ctx&&l(g.ctx[e],g.ctx[e]=s)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](s),p&&j(t,e)),r})):[],g.update(),p=!0,n(g.before_update),g.fragment=!!a&&a(g.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);g.fragment&&g.fragment.l(e),e.forEach(o)}else g.fragment&&g.fragment.c();s.intro&&R(t.$$.fragment),B(t,s.target,s.anchor,s.customElement),q()}m(h)}class F{$destroy(){N(this,1),this.$destroy=e}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class D{size=10;angle=0;delta=[0,0];pressure=1;color="#000";x=0;y=0;constructor(e=0,t=0,r){this.x=e,this.y=t,r&&(this.color=r.color,this.delta=r.delta,this.angle=r.angle,this.pressure=r.pressure,this.size=r.size)}offset(e=0,t=0,r){const n=this.x+e,s=this.y+t;return new D(n,s,r)}snap(e,t){const r=t*Math.round(e/t);return e-r<2?r:lSize}}function U(e,t,r){return(1-r)*e+r*t}const W=[];for(let e=0;e<256;e++)W[e]=(e<16?"0":"")+e.toString(16);function X(e,t,r){return Math.max(t,Math.min(r,e))}function Y(e,t,r){return(1-r)*e+r*t}const J={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Z={h:0,s:0,l:0},K={h:0,s:0,l:0};function Q(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function V(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function ee(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class te{constructor(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,t,r){return this.r=e,this.g=t,this.b=r,this}setHSL(e,t,r){var n;if(e=(e%(n=1)+n)%n,t=X(t,0,1),r=X(r,0,1),0===t)this.r=this.g=this.b=r;else{const n=r<=.5?r*(1+t):r+t-r*t,s=2*r-n;this.r=Q(s,n,e+1/3),this.g=Q(s,n,e),this.b=Q(s,n,e-1/3)}return this}setStyle(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const n=r[1],s=r[2];switch(n){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const r=parseFloat(e[1])/360,n=parseInt(e[2],10)/100,s=parseInt(e[3],10)/100;return t(e[4]),this.setHSL(r,n,s)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=J[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=V(e.r),this.g=V(e.g),this.b=V(e.b),this}copyLinearToSRGB(e){return this.r=ee(e.r),this.g=ee(e.g),this.b=ee(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return"#"+("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,r=this.g,n=this.b,s=Math.max(t,r,n),i=Math.min(t,r,n);let a,l;const o=(i+s)/2;if(i===s)a=0,l=0;else{const e=s-i;switch(l=o<=.5?e/(s+i):e/(2-s-i),s){case t:a=(r-n)/e+(r<n?6:0);break;case r:a=(n-t)/e+2;break;case n:a=(t-r)/e+4}a/=6}return e.h=a,e.s=l,e.l=o,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,t,r){return this.getHSL(Z),Z.h+=e,Z.s+=t,Z.l+=r,this.setHSL(Z.h,Z.s,Z.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Z),e.getHSL(K);const r=Y(Z.h,K.h,t),n=Y(Z.s,K.s,t),s=Y(Z.l,K.l,t);return this.setHSL(r,n,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}function re(t){let r;return{c(){r=d("canvas")},m(e,n){l(e,r,n),t[14](r)},p:e,i:e,o:e,d(e){e&&o(r),t[14](null)}}}function ne(e,t,r){let n,s,i,{strokeArray:a=[]}=t,{iSize:l=2}=t,{color:o="#000"}=t,{opacity:d=1}=t,{width:u=0}=t,{height:c=0}=t,{currentPoint:h=null}=t,{recording:g=!0}=t,p=v(),y=[],f=[],{frameIdx:x=0}=t,{frameSkip:m=11}=t;function b(){var e;M(),null===(e=f[x])||void 0===e||e.forEach((e=>{e.forEach(((t,r)=>{r?e[r-1]:e[0],s.fillRect(t.x,t.y,10,10)}))}))}function z(){i||(i=h),y.push(h);let e,t=h.x-i.x,n=h.y-i.y,s=Math.atan2(n,t);t&&Math.abs(t)>=Math.abs(n)?e=Math.abs(Math.round(t)):n&&Math.abs(n)>=Math.abs(t)&&(e=Math.abs(Math.round(n)));let a=new te(o).getHexString();console.log(a),r(1,h.angle=s+function(e){return e*(Math.PI/180)}(45),h),r(1,h.size=l/3+(e/3+4*h.pressure),h),r(1,h.color=a,h),function(e,t){let r=0,n=t.x-e.x,s=t.y-e.y;r=Math.abs(n)>Math.abs(s)?Math.abs(n):Math.abs(s);for(let n=0;n<=r;n++){let s=U(e.x,t.x,n/r),i=U(e.y,t.y,n/r);const a=new D(s,i);a.pressure=U(e.pressure,t.pressure,n/r),a.size=U(e.size,t.size,n/r),a.delta[0]=U(e.delta[0],t.delta[0],n/r)/l,a.delta[1]=U(e.delta[1],t.delta[1],n/r)/l,a.angle=U(e.angle,t.angle,n/r),w(a,a.size,a.angle,!0)}}(h,i),g&&(S(),p("frameChange",h)),i=h}function w(e,t,r=0,n=!1,i){const a=[];let l=new D(e.x,e.y,e.options);n||s.fillRect(l.x-2,l.y-2,4,4),a[0]=null==l?void 0:l.offset(t,-t),a[1]=null==l?void 0:l.offset(-t,-t),a[2]=null==l?void 0:l.offset(-t,t),a[3]=null==l?void 0:l.offset(t,t),a.forEach((e=>{!function(e,t=0,r=new D){let n=t,s=Math.sin(n),i=Math.cos(n);e.x-=r.x,e.y-=r.y;let a=e.x*i-e.y*s,l=e.x*s+e.y*i;e.x=a+r.x,e.y=l+r.y}(e,r,l)})),function(e,t=1,r=!1,n=!1){var i,a,l,o,u;let c=e.length;for(s.beginPath(),s.moveTo(null===(i=e[0])||void 0===i?void 0:i.x,null===(a=e[0])||void 0===a?void 0:a.y);0<c;){const n=e.length-c;s.lineTo(null===(l=e[n])||void 0===l?void 0:l.x,null===(o=e[n])||void 0===o?void 0:o.y);let i=new te(null===(u=e[n])||void 0===u?void 0:u.color);s.fillStyle=`rgba(${255*i.r}, ${255*i.g}, ${255*i.b}, ${d/2})`,0!=n||r||s.closePath(),c-=Math.abs(t)}r&&s.closePath(),n&&s.fill()}(a,1,!0,n)}function S(){f[x]||(f[x]=[]),f[x].push(y),i=null,y=[]}function M(){r(2,a=[]),s.clearRect(0,0,n.width,n.height)}return $((()=>{!function(e=window.innerWidth,t=window.innerHeight){r(0,n.width=e,n),r(0,n.height=t,n),s=n.getContext("2d")}()})),e.$$set=e=>{"strokeArray"in e&&r(2,a=e.strokeArray),"iSize"in e&&r(3,l=e.iSize),"color"in e&&r(4,o=e.color),"opacity"in e&&r(5,d=e.opacity),"width"in e&&r(6,u=e.width),"height"in e&&r(7,c=e.height),"currentPoint"in e&&r(1,h=e.currentPoint),"recording"in e&&r(8,g=e.recording),"frameIdx"in e&&r(9,x=e.frameIdx),"frameSkip"in e&&r(10,m=e.frameSkip)},e.$$.update=()=>{2&e.$$.dirty[0]&&h&&z(),512&e.$$.dirty[0]&&x&&b(),e.$$.dirty[0]},[n,h,a,l,o,d,u,c,g,x,m,S,M,function(){const e=n.toDataURL("image/png");let t;fetch(e).then((e=>e.blob())).then((e=>{t=URL.createObjectURL(e),window.open(t)}))},function(e){k[e?"unshift":"push"]((()=>{n=e,r(0,n)}))}]}te.NAMES=J,te.prototype.isColor=!0,te.prototype.r=1,te.prototype.g=1,te.prototype.b=1;class se extends F{constructor(e){super(),O(this,e,ne,re,i,{strokeArray:2,iSize:3,color:4,opacity:5,width:6,height:7,currentPoint:1,recording:8,frameIdx:9,frameSkip:10,endStroke:11,clear:12,savePNG:13},null,[-1,-1])}get strokeArray(){return this.$$.ctx[2]}set strokeArray(e){this.$$set({strokeArray:e}),q()}get iSize(){return this.$$.ctx[3]}set iSize(e){this.$$set({iSize:e}),q()}get color(){return this.$$.ctx[4]}set color(e){this.$$set({color:e}),q()}get opacity(){return this.$$.ctx[5]}set opacity(e){this.$$set({opacity:e}),q()}get width(){return this.$$.ctx[6]}set width(e){this.$$set({width:e}),q()}get height(){return this.$$.ctx[7]}set height(e){this.$$set({height:e}),q()}get currentPoint(){return this.$$.ctx[1]}set currentPoint(e){this.$$set({currentPoint:e}),q()}get recording(){return this.$$.ctx[8]}set recording(e){this.$$set({recording:e}),q()}get frameIdx(){return this.$$.ctx[9]}set frameIdx(e){this.$$set({frameIdx:e}),q()}get frameSkip(){return this.$$.ctx[10]}set frameSkip(e){this.$$set({frameSkip:e}),q()}get endStroke(){return this.$$.ctx[11]}get clear(){return this.$$.ctx[12]}get savePNG(){return this.$$.ctx[13]}}function ie(t){let r,s,i;return{c(){r=d("div"),g(r,"id","capture"),g(r,"class","svelte-11ujypm")},m(e,n){var a;l(e,r,n),t[3](r),s||(i=[h(r,"contextmenu",(a=t[2],function(e){return e.preventDefault(),a.call(this,e)})),h(r,"pointermove",t[1]),h(r,"pointerdown",t[1]),h(r,"pointerup",t[1])],s=!0)},p:e,i:e,o:e,d(e){e&&o(r),t[3](null),s=!1,n(i)}}}function ae(e,t,r){let n,s=!1;const i=v();return[n,function(e){const t=new D(e.clientX,e.clientY);e.pressure?(s||(s=!0,i("capStart")),t.pressure=e.pressure,t.dx=e.movementX,t.dy=e.movementY,i("capEvt",t)):(s&&(i("capDone"),s=!1),i("mvEvt",t))},function(t){z.call(this,e,t)},function(e){k[e?"unshift":"push"]((()=>{n=e,r(0,n)}))}]}class le extends F{constructor(e){super(),O(this,e,ae,ie,i,{})}}function oe(t){let r,n,s,i,u,p;return{c(){r=d("div"),n=d("div"),n.textContent="save",s=c(),i=d("div"),i.textContent="flipslide",g(n,"class","btn svelte-1fqm2a8"),g(i,"class","btn svelte-1fqm2a8"),g(i,"id","logo"),g(r,"id","flipslide-logo"),g(r,"draggable","true"),g(r,"class","svelte-1fqm2a8")},m(e,o){l(e,r,o),a(r,n),a(r,s),a(r,i),t[2](r),u||(p=h(n,"click",t[1]),u=!0)},p:e,i:e,o:e,d(e){e&&o(r),t[2](null),u=!1,p()}}}function de(e,t,r){const n=v();let s;function i(e=null,t=null){let n={x:window.innerWidth/2-s.getBoundingClientRect().width/2,y:window.innerHeight};t=t||n,r(0,s.style.left=`${t.x}px`,s)}return $((()=>{i(),window.addEventListener("resize",i),s.addEventListener("opointerdown",(e=>{console.log(e)})),s.addEventListener("ondragstart",(e=>{console.log(e)})),s.addEventListener("ondragged",(e=>{console.log(e)}))})),[s,function(){n("handleSave")},function(e){k[e?"unshift":"push"]((()=>{s=e,r(0,s)}))}]}class ue extends F{constructor(e){super(),O(this,e,de,oe,i,{})}}const ce=[{size:null,angle:.7853981633974483,delta:[0,0],pressure:.26251527667045593,x:160.8419647216797,y:262.3843078613281,dx:0,dy:0},{size:4.701587438583375,angle:-.4706239938365693,delta:[0,0],pressure:.4253968596458435,x:162.98721313476562,y:255.7957000732422,dx:5,dy:-14},{size:7.096459229787191,angle:-.2836800766369729,delta:[0,0],pressure:.44078147411346436,x:170.4955596923828,y:242.1077117919922,dx:16,dy:-29},{size:7.44542137781779,angle:-.08235663608097454,delta:[0,0],pressure:.44468867778778076,x:183.2648468017578,y:227.0407257080078,dx:27,dy:-32},{size:5.0681320031483965,angle:.05918880955114958,delta:[0,0],pressure:.43369966745376587,x:191.02857971191406,y:220.14564514160156,dx:16,dy:-15},{size:5.036874373753865,angle:.14891462568195002,delta:[0,0],pressure:.42588526010513306,x:199.2519989013672,y:214.06777954101562,dx:18,dy:-13},{size:4.681074619293214,angle:.2709692488989739,delta:[0,0],pressure:.4202686548233032,x:206.30067443847656,y:210.08395385742188,dx:15,dy:-8},{size:3.962637503941854,angle:.5448767057942023,delta:[0,0],pressure:.4073260426521301,x:211.71482849121094,y:208.7560272216797,dx:11,dy:-3},{size:3.578510522842407,angle:.9017513900232441,delta:[0,0],pressure:.3946276307106018,x:215.64776611328125,y:209.21571350097656,dx:9,dy:1},{size:3.2500611941019693,angle:1.4498688255128998,delta:[0,0],pressure:.3958486318588257,x:218.71238708496094,y:211.6162109375,dx:6,dy:5},{size:3.6420025825500484,angle:1.8687166006671796,delta:[0,0],pressure:.4105006456375122,x:220.9597930908203,y:215.85537719726562,dx:5,dy:9},{size:4.370207707087199,angle:2.1962735648945673,delta:[0,0],pressure:.42588526010513306,x:221.98133850097656,y:222.1886444091797,dx:2,dy:14},{size:5.44542137781779,angle:2.3504806471162385,delta:[0,0],pressure:.44468867778778076,x:222.03240966796875,y:231.12669372558594,dx:0,dy:19},{size:6.544078270594279,angle:2.508851493737652,delta:[0,0],pressure:.4693529009819031,x:220.19363403320312,y:243.078125,dx:-4,dy:25},{size:7.64078156153361,angle:2.566387071732869,delta:[0,0],pressure:.49352872371673584,x:216.92469787597656,y:258.4005126953125,dx:-7,dy:33},{size:8.387545903523764,angle:2.57327454094074,delta:[0,0],pressure:.5135531425476074,x:213.19606018066406,y:275.3061828613281,dx:-7,dy:36},{size:8.438339551289877,angle:2.5518395791674653,delta:[0,0],pressure:.5262515544891357,x:209.8760528564453,y:292.05865478515625,dx:-8,dy:35},{size:7.824420134226481,angle:2.5251458413127827,delta:[0,0],pressure:.5394383668899536,x:207.2711181640625,y:307.3299255371094,dx:-5,dy:33},{size:7.208547115325928,angle:2.481525068060926,delta:[0,0],pressure:.5521367788314819,x:205.6366424560547,y:320.3028869628906,dx:-4,dy:27},{size:6.234920740127564,angle:2.3971990279480293,delta:[0,0],pressure:.5587301850318909,x:205.22802734375,y:330.2624206542969,dx:0,dy:21},{size:5.230036735534669,angle:2.2848833857578077,delta:[0,0],pressure:.557509183883667,x:205.73880004882812,y:337.4128723144531,dx:1,dy:16},{size:4.56532367070516,angle:2.0489199654608194,delta:[0,0],pressure:.5579975843429565,x:207.42434692382812,y:342.724609375,dx:3,dy:11},{size:4.2349207401275635,angle:1.8233262651803352,delta:[0,0],pressure:.5587301850318909,x:209.77389526367188,y:346.7084045410156,dx:5,dy:8},{size:3.892796198527018,angle:1.552918749435435,delta:[0,0],pressure:.5565323829650879,x:212.68528747558594,y:349.51751708984375,dx:6,dy:6},{size:3.884004990259806,angle:1.218739185809127,delta:[0,0],pressure:.5543345808982849,x:216.1074676513672,y:351.1008605957031,dx:8,dy:4},{size:4.19487190246582,angle:.8502382773371504,delta:[0,0],pressure:.5487179756164551,x:220.04042053222656,y:351.3562316894531,dx:8,dy:0},{size:4.172405481338501,angle:.5269487608076728,delta:[0,0],pressure:.5431013703346252,x:224.48411560058594,y:350.1814880371094,dx:10,dy:-2},{size:4.5399268468221035,angle:.19024154271929294,delta:[0,0],pressure:.5516483783721924,x:229.3875274658203,y:346.86163330078125,dx:10,dy:-7},{size:4.93479863802592,angle:-.031075681685889367,delta:[0,0],pressure:.5670329928398132,x:234.95494079589844,y:340.9369812011719,dx:12,dy:-13},{size:5.667887767155965,angle:-.15368246915924821,delta:[0,0],pressure:.583638608455658,x:241.0841827392578,y:332.560791015625,dx:13,dy:-18},{size:6.3706960678100595,angle:-.26017763179849873,delta:[0,0],pressure:.5926740169525146,x:246.85589599609375,y:322.6012268066406,dx:12,dy:-21},{size:6.706959803899129,angle:-.31036564522256316,delta:[0,0],pressure:.593406617641449,x:252.3722381591797,y:311.8755798339844,dx:12,dy:-23},{size:6.389255285263062,angle:-.32976268335301673,delta:[0,0],pressure:.5973138213157654,x:257.3778076171875,y:301.66064453125,dx:10,dy:-21},{size:6.086202780405681,angle:-.3285316500709845,delta:[0,0],pressure:.6048840284347534,x:261.821533203125,y:292.6204528808594,dx:10,dy:-20},{size:5.755799849828084,angle:-.31097660810500316,delta:[0,0],pressure:.6056166291236877,x:265.7033996582031,y:285.0614318847656,dx:8,dy:-16},{size:5.089133183161418,angle:-.26130841365636215,delta:[0,0],pressure:.6056166291236877,x:268.9212341308594,y:279.4942932128906,dx:7,dy:-12},{size:4.083272377649943,angle:-.13704351545769156,delta:[0,0],pressure:.6041514277458191,x:271.47509765625,y:276.12335205078125,dx:5,dy:-7},{size:3.6923077901204424,angle:.3647751523040592,delta:[0,0],pressure:.5897436141967773,x:273.4160461425781,y:275.255126953125,dx:5,dy:-2},{size:3.2857143878936768,angle:1.235138186293721,delta:[0,0],pressure:.5714285969734192,x:274.8972473144531,y:275.97015380859375,dx:3,dy:2},{size:3.9279610315958657,angle:1.871695391501721,delta:[0,0],pressure:.5653235912322998,x:276.4295654296875,y:278.88140869140625,dx:3,dy:6},{size:4.920146624247233,angle:2.080217070231235,delta:[0,0],pressure:.5633699893951416,x:278.0640563964844,y:284.65283203125,dx:3,dy:12},{size:5.919169823328654,angle:2.161093279509325,delta:[0,0],pressure:.5631257891654968,x:279.7496032714844,y:293.1822814941406,dx:4,dy:19},{size:6.557509263356526,angle:2.1411139611015066,delta:[0,0],pressure:.5560439825057983,x:282.048095703125,y:303.7036437988281,dx:5,dy:22},{size:7.1968255043029785,angle:2.092620783778101,delta:[0,0],pressure:.5492063760757446,x:285.52130126953125,y:316.5744323730469,dx:7,dy:27},{size:7.821489731470744,angle:2.011366976409894,delta:[0,0],pressure:.5387057662010193,x:290.7312316894531,y:331.07958984375,dx:11,dy:31},{size:7.43540914853414,angle:1.9271495530250815,delta:[0,0],pressure:.5255189538002014,x:297.32012939453125,y:345.4826354980469,dx:14,dy:31},{size:7.07570219039917,angle:1.8186399594946816,delta:[0,0],pressure:.5189255475997925,x:305.0838623046875,y:358.5066223144531,dx:17,dy:27},{size:6.40122111638387,angle:1.6910095221087715,delta:[0,0],pressure:.5169719457626343,x:313.8180847167969,y:369.640869140625,dx:18,dy:24},{size:5.764835278193156,angle:1.4893836224947208,delta:[0,0],pressure:.5245421528816223,x:322.96087646484375,y:377.40423583984375,dx:20,dy:16},{size:5.851770559946696,angle:1.2306806694351198,delta:[0,0],pressure:.5462759733200073,x:331.9504699707031,y:381.69451904296875,dx:19,dy:10},{size:5.94554344813029,angle:.9949054839613953,delta:[0,0],pressure:.5697191953659058,x:340.837890625,y:383.584228515625,dx:19,dy:4},{size:6.056898752848308,angle:.8027406391622106,delta:[0,0],pressure:.5975580215454102,x:349.6742248535156,y:383.73748779296875,dx:19,dy:0},{size:6.191697279612224,angle:.6258552526836735,delta:[0,0],pressure:.6312576532363892,x:358.5616760253906,y:382.3074035644531,dx:18,dy:-3},{size:6.016605695088704,angle:.4563601667839198,delta:[0,0],pressure:.6708180904388428,x:366.93829345703125,y:379.44720458984375,dx:18,dy:-6},{size:6.152381022771199,angle:.26214537210240785,delta:[0,0],pressure:.7047619223594666,x:374.9063415527344,y:374.85052490234375,dx:17,dy:-10},{size:5.940171003341676,angle:.06610451652623883,delta:[0,0],pressure:.7350427508354187,x:382.3125305175781,y:368.3640441894531,dx:16,dy:-14},{size:6.361416657765706,angle:-.10376856714091853,delta:[0,0],pressure:.7570208311080933,x:388.9014892578125,y:360.2431640625,dx:14,dy:-17},{size:7.094505786895753,angle:-.29872192455493596,delta:[0,0],pressure:.773626446723938,x:394.0091857910156,y:350.590087890625,dx:11,dy:-20},{size:7.466911156972249,angle:-.47052748963801916,delta:[0,0],pressure:.783394455909729,x:397.63568115234375,y:339.4558410644531,dx:7,dy:-24},{size:8.157021045684814,angle:-.6221973223875155,delta:[0,0],pressure:.7892552614212036,x:399.7298278808594,y:326.7382507324219,dx:5,dy:-27},{size:8.450305541356405,angle:-.7408143209416747,delta:[0,0],pressure:.7792430520057678,x:400.3427734375,y:312.99920654296875,dx:1,dy:-29},{size:8.384859879811605,angle:-.8220138399155412,delta:[0,0],pressure:.7628816366195679,x:399.8320007324219,y:299.0558776855469,dx:-1,dy:-30},{size:7.980219841003418,angle:-.9356597933495288,delta:[0,0],pressure:.7450549602508545,x:397.89105224609375,y:286.2361145019531,dx:-4,dy:-27},{size:7.269597133000691,angle:-1.0756239600658262,delta:[0,0],pressure:.7340659499168396,x:394.51995849609375,y:274.94866943359375,dx:-7,dy:-24},{size:6.921611785888673,angle:-1.259479319106358,delta:[0,0],pressure:.730402946472168,x:389.5144348144531,y:265.19342041015625,dx:-11,dy:-21},{size:5.951892614364625,angle:-1.5273709847075527,delta:[0,0],pressure:.737973153591156,x:382.7722473144531,y:257.83868408203125,dx:-14,dy:-16},{size:6.292063554128011,angle:-1.802535675606853,delta:[0,0],pressure:.7396825551986694,x:374.3445129394531,y:252.6290740966797,dx:-18,dy:-11},{size:6.926495790481568,angle:-2.0752840462162117,delta:[0,0],pressure:.7316239476203918,x:364.0779724121094,y:249.66676330566406,dx:-22,dy:-6},{size:7.903052568435669,angle:-2.31132698625744,delta:[0,0],pressure:.7257631421089172,x:351.5640869140625,y:249.10491943359375,dx:-26,dy:-1},{size:6.571672836939494,angle:3.8506407577418664,delta:[0,0],pressure:.7262515425682068,x:342.21697998046875,y:249.81996154785156,dx:-20,dy:1},{size:9.557997624079386,angle:3.701834188186258,delta:[0,0],pressure:.7228327393531799,x:323.9313659667969,y:254.0081024169922,dx:-39,dy:9},{size:7.5081807772318525,angle:3.547964389039061,delta:[0,0],pressure:.7103785276412964,x:311.87713623046875,y:258.8091125488281,dx:-26,dy:10},{size:6.343101421991984,angle:3.3989384518942978,delta:[0,0],pressure:.6691086888313293,x:302.6832580566406,y:264.17193603515625,dx:-19,dy:12},{size:5.111843824386598,angle:3.114386601536279,delta:[0,0],pressure:.5279609560966492,x:296.2986145019531,y:270.9137878417969,dx:-14,dy:14},{size:4.062271098295848,angle:2.8332571044932475,delta:[0,0],pressure:.09890110790729523,x:291.5994873046875,y:280.00506591796875,dx:-10,dy:20}];function he(e,t,r){const n=e.slice();return n[32]=t[r],n[33]=t,n[34]=r,n}function ge(e){let t;return{c(){t=u("stop")},m(e,r){l(e,t,r)},d(e){e&&o(t)}}}function pe(e){let t;return{c(){t=u("play")},m(e,r){l(e,t,r)},d(e){e&&o(t)}}}function ye(e){let t;return{c(){t=u("recording...")},m(e,r){l(e,t,r)},d(e){e&&o(t)}}}function fe(e){let t;return{c(){t=u("record")},m(e,r){l(e,t,r)},d(e){e&&o(t)}}}function xe(e){let t;return{c(){t=u("on")},m(e,r){l(e,t,r)},d(e){e&&o(t)}}}function me(e){let t;return{c(){t=u("off")},m(e,r){l(e,t,r)},d(e){e&&o(t)}}}function be(e){let t,r,n=e[33],s=e[34];const i=()=>e[25](t,n,s),a=()=>e[25](null,n,s);return t=new se({props:{}}),i(),t.$on("frameChange",e[19]),{c(){G(t.$$.fragment)},m(e,n){B(t,e,n),r=!0},p(e,r){n===e[33]&&s===e[34]||(a(),n=e[33],s=e[34],i());t.$set({})},i(e){r||(R(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){a(),N(t,e)}}}function $e(e){let t,r,s,i,x,m,b,$,v,z,w,k,S,M,L,A,E,I,H,q,C,_,j,O,F,D,U,W,X,Y,J,Z;function K(e,t){return e[5]?ge:pe}let Q=K(e),V=Q(e);function ee(e,t){return e[6]?ye:fe}let te=ee(e),re=te(e);function ne(e,t){return e[3]?xe:me}let se=ne(e),ie=se(e);D=new le({}),D.$on("capEvt",e[9]),D.$on("mvEvt",ze),D.$on("capStart",ve),D.$on("capDone",e[10]);let ae=e[8],oe=[];for(let t=0;t<ae.length;t+=1)oe[t]=be(he(e,ae,t));const de=e=>T(oe[e],1,1,(()=>{oe[e]=null}));return X=new ue({props:{}}),e[26](X),X.$on("handleSave",e[11]),{c(){t=d("main"),r=d("div"),s=d("a"),V.c(),i=c(),x=d("input"),m=c(),b=d("span"),$=u("frame: \r\n\t\t\t"),v=d("input"),z=c(),w=d("input"),k=c(),S=d("a"),re.c(),M=c(),L=d("a"),A=u("autoReset: \r\n\t\t\t"),ie.c(),E=c(),I=d("div"),H=d("input"),q=c(),C=d("div"),_=d("input"),j=c(),O=d("input"),F=c(),G(D.$$.fragment),U=c();for(let e=0;e<oe.length;e+=1)oe[e].c();W=c(),G(X.$$.fragment),g(s,"class","btn"),g(s,"href","#"),g(x,"type","range"),g(x,"min","0"),g(v,"max","100"),g(v,"min","0"),f(v,"width","60px"),g(v,"type","number"),g(w,"type","range"),g(w,"min","1"),g(w,"max","10"),f(w,"width","40px"),g(S,"class","btn"),g(S,"href","#"),g(L,"class","btn"),g(L,"href","#"),f(r,"z-index","9999"),f(r,"position","absolute"),g(H,"type","range"),g(H,"class","svelte-1qv8711"),g(I,"id","brushSize"),g(I,"class","menu vert svelte-1qv8711"),g(_,"min","0"),g(_,"max","1"),g(_,"step",".1"),g(_,"type","range"),g(_,"class","svelte-1qv8711"),g(C,"id","brushOpacity"),g(C,"class","menu vert svelte-1qv8711"),O.value="2",g(O,"type","color"),g(O,"class","menu svelte-1qv8711"),g(O,"id","color"),g(t,"class","svelte-1qv8711")},m(n,o){l(n,t,o),a(t,r),a(r,s),V.m(s,null),a(r,i),a(r,x),e[20](x),y(x,e[0]),a(r,m),a(r,b),a(b,$),a(b,v),y(v,e[0]),a(r,z),a(r,w),y(w,e[4]),a(r,k),a(r,S),re.m(S,null),a(r,M),a(r,L),a(L,A),ie.m(L,null),e[24](r),a(t,E),a(t,I),a(I,H),a(t,q),a(t,C),a(C,_),a(t,j),a(t,O),a(t,F),B(D,t,null),a(t,U);for(let e=0;e<oe.length;e+=1)oe[e].m(t,null);a(t,W),B(X,t,null),Y=!0,J||(Z=[h(s,"click",e[17]),h(x,"change",e[21]),h(x,"input",e[21]),h(v,"input",e[22]),h(w,"input",e[18]),h(w,"change",e[23]),h(w,"input",e[23]),h(S,"click",e[16]),h(L,"click",e[15]),h(H,"change",e[13]),h(_,"change",e[12]),h(O,"change",e[14])],J=!0)},p(e,r){if(Q!==(Q=K(e))&&(V.d(1),V=Q(e),V&&(V.c(),V.m(s,null))),1&r[0]&&y(x,e[0]),1&r[0]&&p(v.value)!==e[0]&&y(v,e[0]),16&r[0]&&y(w,e[4]),te!==(te=ee(e))&&(re.d(1),re=te(e),re&&(re.c(),re.m(S,null))),se!==(se=ne(e))&&(ie.d(1),ie=se(e),ie&&(ie.c(),ie.m(L,null))),524544&r[0]){let s;for(ae=e[8],s=0;s<ae.length;s+=1){const n=he(e,ae,s);oe[s]?(oe[s].p(n,r),R(oe[s],1)):(oe[s]=be(n),oe[s].c(),R(oe[s],1),oe[s].m(t,W))}for(P={r:0,c:[],p:P},s=ae.length;s<oe.length;s+=1)de(s);P.r||n(P.c),P=P.p}X.$set({})},i(e){if(!Y){R(D.$$.fragment,e);for(let e=0;e<ae.length;e+=1)R(oe[e]);R(X.$$.fragment,e),Y=!0}},o(e){T(D.$$.fragment,e),oe=oe.filter(Boolean);for(let e=0;e<oe.length;e+=1)T(oe[e]);T(X.$$.fragment,e),Y=!1},d(r){r&&o(t),V.d(),e[20](null),re.d(),ie.d(),e[24](null),N(D),function(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}(oe,r),e[26](null),N(X),J=!1,n(Z)}}}function ve(){}function ze(e){}function we(e,t,r){let n,s,i,a=!1,l=0,o=1,d=0,u=!1,c=!1,h=[null];function g(e){d<=o?d++:d=0,r(8,h[0].currentPoint=e.detail,h)}function y(){u&&(l<100?r(0,l++,l):r(0,l=0),setTimeout((()=>{requestAnimationFrame(y)}),100))}return $((()=>{r(2,s.style.left=window.innerWidth/2-parseInt(window.getComputedStyle(s).width)/2+"px",s),r(6,c=h[0].recording),r(0,l=1),r(4,o=h[0].frameSkip);let e=0,t=setInterval((()=>{e<ce.length-1?(r(8,h[0].currentPoint=ce[e],h),e++):(h[0].endStroke(),clearInterval(t))}),10)})),e.$$.update=()=>{1&e.$$.dirty[0]&&l&&r(8,h[0].frameIdx=l,h)},[l,n,s,a,o,u,c,i,h,g,function(){h[0].endStroke(),a&&r(0,l=0)},function(){h[0].savePNG()},function(e){r(8,h[0].opacity=e.target.value,h)},function(e){r(8,h[0].iSize=e.target.value/2,h)},function(e){r(8,h[0].color=e.target.value,h)},function(){r(3,a=!a)},function(){r(6,c=!c),r(8,h[0].recording=c,h)},function(){r(5,u=!u),u&&y()},function(e){r(8,h[0].frameSkip=e.target.value,h)},function(e){d==o&&(l<100?(r(0,l++,l),g(e)):r(0,l=0))},function(e){k[e?"unshift":"push"]((()=>{i=e,r(7,i)}))},function(){l=p(this.value),r(0,l)},function(){l=p(this.value),r(0,l)},function(){o=p(this.value),r(4,o)},function(e){k[e?"unshift":"push"]((()=>{s=e,r(2,s)}))},function(e,t,n){k[e?"unshift":"push"]((()=>{t[n]=e,r(8,h)}))},function(e){k[e?"unshift":"push"]((()=>{n=e,r(1,n)}))}]}return new class extends F{constructor(e){super(),O(this,e,we,$e,i,{},null,[-1,-1])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
